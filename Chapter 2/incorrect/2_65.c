// 面白い問題

#include <stdio.h>
#include <limits.h>
#include <stdint.h>
#include <stdbool.h>
#include <assert.h>

typedef unsigned char *byte_pointer;

int odd_ones(unsigned x) {
	// 0x01010101
  x ^= x >> 16;
	// 01010101 ^
	// 00000101
  x ^= x >> 8;
	// 01010000 ^
	// 00010100
  x ^= x >> 4;
	// 01000100 ^
	// 00100010
  x ^= x >> 2;
	// 01100110 (0000 0001 0001 0000 0000 0001 0001 0000)^
	// 			(0000 0000 0100 0100 0000 0000 0100 0100)
	// 			(0000 0001 0101 0100 0000 0001 0101 0100)
  x ^= x >> 1;
	// 0000 0001 0101 0100 0000 0001 0101 0100
	// 0000 0000 1010 1010 0000 0000 1010 1010
	// 0000 0001 1111 1110 0000 0001 1111 1110
  x &= 0x1;
	// 0000 0001 1111 1110 0000 0001 1111 1110
	// 0000 0000 0000 0000 0000 0000 0000 0001
	// 0
  return x;
}

int main(int argc, char* argv[]) {
  assert(odd_ones(0x10101011));
  assert(!odd_ones(0x01010101));
  return 0;
}